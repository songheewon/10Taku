{% extends 'base.html' %}
{% load static %}

{% block title %}
    애니메이션 상세
{% endblock %}
{% block css %}
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="{% static 'style/detail.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
    <!--- 전체 바디 ----->
    <div class="detail-body">
        <!--- 왼쪽단 상세설명 ----->
        <div class="left-body">
            <div class="anime-title-box" style="display: flex; justify-content: space-between;">
                <p class="anime-title">{{ animation.title }}</p>
                <p style="color: white; margin: 15px 30px; font-size: 20px; font-weight: bold">유저추천 수 : {{animation.recommend_count}}</p>
            </div>
            <div class="anime-info-body">
                <img src="{{ animation.img }}"
                     class="detail-img">
                <div class="anime-description">
                    <div class="anime-description-detail-title">
                        <p>원제</p>
                        <p>장르</p>
                        <p>제작사</p>
                        <p>시청등급</p>
                        <p>방영연도</p>
                        <p>회차</p>
                    </div>
                    <div class="anime-description-detail">
                        <p class="anime-detail">{{ animation.original_title }}</p>
                        <p class="anime-detail">{{ genre }}</p>
                        <p class="anime-detail">{{ animation.company }}</p>
                        <p class="anime-detail">{{ animation.rated }}</p>
                        <p class="anime-detail">{{ animation.broadcasted_date }}</p>
                        <p class="anime-detail">{{ animation.chapters }}</p>
                    </div>

                </div>
            </div>
            <div class="anime-summary-box">
                <p style="text-align: left">줄거리</p>
                <p>{{ animation.story }}</p>
            </div>
            <div class="anime-btn-box">
                <a href="#">
                    {#                <a href="/comment/{{ animation.id }}">#}
                    <button class="comment-btn" data-toggle="modal" data-target="#commentmodal">
                        <span>댓글 12개 보기</span></button>
                </a>
                <button class="comment-btn">북마크 추가</button>
                <a href="/recommend_toggle/{{ animation.id }}">
                    <button class="comment-btn">
                        {% if is_recommend %}
                        추천 취소
                        {% else %}
                        추천 하기
                        {% endif %}
                    </button>
                </a>
            </div>

        </div>
        <!--- 오른쪽단 애니추천 ----->
        <div class="right-body">
            <div class="genre-recommend">
                <div style="color:white; margin-top: 10px;">
                    같은 장르 애니
                </div>
                <div>
                    <img src="https://img2.yna.co.kr/photo/yna/YH/2013/09/08/PYH2013090801520000500_P2.jpg"
                         class="recommend-img"> <span class="recommend-title">진격의 거인</span>
                </div>
                <div>
                    <img src="https://img2.yna.co.kr/photo/yna/YH/2013/09/08/PYH2013090801520000500_P2.jpg"
                         class="recommend-img"> <span class="recommend-title">진격의 거인</span>
                </div>


            </div>
            <div class="user-recommend">
                <div style="color:white; border-top: 1px solid rgb(55, 55, 55); margin-top: 10px;padding-top: 5px;">
                    이 애니를 본사람이 즐긴 애니
                </div>
                <div>
                    <img src="https://img2.yna.co.kr/photo/yna/YH/2013/09/08/PYH2013090801520000500_P2.jpg"
                         class="recommend-img"> <span class="recommend-title">진격의 거인</span>
                </div>
                <div>
                    <img src="https://img2.yna.co.kr/photo/yna/YH/2013/09/08/PYH2013090801520000500_P2.jpg"
                         class="recommend-img"> <span class="recommend-title">진격의 거인</span>
                </div>
                <div>
                    <img src="https://img2.yna.co.kr/photo/yna/YH/2013/09/08/PYH2013090801520000500_P2.jpg"
                         class="recommend-img"> <span class="recommend-title">진격의 거인</span>
                </div>
                <div>
                    <img src="https://img2.yna.co.kr/photo/yna/YH/2013/09/08/PYH2013090801520000500_P2.jpg"
                         class="recommend-img"> <span class="recommend-title">진격의 거인</span>
                </div>
                <div>
                    <img src="https://img2.yna.co.kr/photo/yna/YH/2013/09/08/PYH2013090801520000500_P2.jpg"
                         class="recommend-img"> <span class="recommend-title">진격의 거인</span>
                </div>


            </div>

        </div>
        <!-- 댓글 모달 -->
        <div class="modal fade" id="commentmodal" tabindex="-1" role="dialog"
             aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="z-index: 9999;">
            <div class="modal-dialog modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header" style="justify-content: center;">
                        <h5 class="modal-title" id="commentmodaltitle">댓글</h5>
                    </div>
                    <div class="modal-body">
                        <!-- 댓글 작성칸 -->
                        <div class="row mb-2">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">댓글을 적어주세요</h5>
                                                <p>
                                                <form action="#" method="post">
                                                    {#                                                <form action={%url comment animation.id%} method="post">#}

                                                    {% csrf_token %}
                                                    <div class="form-group mb-2">
                                                    <textarea class="form-control" style="resize: none"
                                                              name='my-content' id="my-content"></textarea>
                                                    </div>
                                                    <button type="submit" class="btn btn-dark"
                                                            style="float:right; background-color: rgb(50,50,50);">
                                                        작성하기
                                                    </button>
                                                </form>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <!-- 작성 된 댓글이 나오는 곳 -->
                        <div class="row">
                            {#                            {% for comment in comments %}#}
                            <div class="col-md-12 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">{{ comment.content }}</h5>
                                            </div>
                                            <div style="text-align: right">
                                                <span style="font-size: small">{{ comment.author.username }}-{{ comment.created_at|timesince }}전</span>
                                            </div>
                                        </div>
                                    </div>
                                    {#                                        {% if comment.author == user %}#}
                                    <div style="text-align: right">
                                        <a href="/comment/delete/{{ comment.id }}">
                                            <span class="badge rounded-pill bg-danger">삭제</span>
                                        </a>
                                    </div>
                                    {#                                        {% endif %}#}
                                </div>
                            </div>
                            {#                            {% endfor %}#}
                        </div>
                        <div class="row">
                            {#                            {% for comment in comments %}#}
                            <div class="col-md-12 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">{{ comment.content }}</h5>
                                            </div>
                                            <div style="text-align: right">
                                                <span style="font-size: small">{{ comment.author.username }}-{{ comment.created_at|timesince }}전</span>
                                            </div>
                                        </div>
                                    </div>
                                    {#                                        {% if comment.author == user %}#}
                                    <div style="text-align: right">
                                        <a href="/comment/delete/{{ comment.id }}">
                                            <span class="badge rounded-pill bg-danger">삭제</span>
                                        </a>
                                    </div>
                                    {#                                        {% endif %}#}
                                </div>
                            </div>
                            {#                            {% endfor %}#}
                        </div>
                        <div class="row">
                            {#                            {% for comment in comments %}#}
                            <div class="col-md-12 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">{{ comment.content }}</h5>
                                            </div>
                                            <div style="text-align: right">
                                                <span style="font-size: small">{{ comment.author.username }}-{{ comment.created_at|timesince }}전</span>
                                            </div>
                                        </div>
                                    </div>
                                    {#                                        {% if comment.author == user %}#}
                                    <div style="text-align: right">
                                        <a href="/comment/delete/{{ comment.id }}">
                                            <span class="badge rounded-pill bg-danger">삭제</span>
                                        </a>
                                    </div>
                                    {#                                        {% endif %}#}
                                </div>
                            </div>
                            {#                            {% endfor %}#}
                        </div>
                        <div class="row">
                            {#                            {% for comment in comments %}#}
                            <div class="col-md-12 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">{{ comment.content }}</h5>
                                            </div>
                                            <div style="text-align: right">
                                                <span style="font-size: small">{{ comment.author.username }}-{{ comment.created_at|timesince }}전</span>
                                            </div>
                                        </div>
                                    </div>
                                    {#                                        {% if comment.author == user %}#}
                                    <div style="text-align: right">
                                        <a href="/comment/delete/{{ comment.id }}">
                                            <span class="badge rounded-pill bg-danger">삭제</span>
                                        </a>
                                    </div>
                                    {#                                        {% endif %}#}
                                </div>
                            </div>
                            {#                            {% endfor %}#}
                        </div>
                        <div class="row">
                            {#                            {% for comment in comments %}#}
                            <div class="col-md-12 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">{{ comment.content }}</h5>
                                            </div>
                                            <div style="text-align: right">
                                                <span style="font-size: small">{{ comment.author.username }}-{{ comment.created_at|timesince }}전</span>
                                            </div>
                                        </div>
                                    </div>
                                    {#                                        {% if comment.author == user %}#}
                                    <div style="text-align: right">
                                        <a href="/comment/delete/{{ comment.id }}">
                                            <span class="badge rounded-pill bg-danger">삭제</span>
                                        </a>
                                    </div>
                                    {#                                        {% endif %}#}
                                </div>
                            </div>
                            {#                            {% endfor %}#}
                        </div>
                        <div class="row">
                            {#                            {% for comment in comments %}#}
                            <div class="col-md-12 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">{{ comment.content }}</h5>
                                            </div>
                                            <div style="text-align: right">
                                                <span style="font-size: small">{{ comment.author.username }}-{{ comment.created_at|timesince }}전</span>
                                            </div>
                                        </div>
                                    </div>
                                    {#                                        {% if comment.author == user %}#}
                                    <div style="text-align: right">
                                        <a href="/comment/delete/{{ comment.id }}">
                                            <span class="badge rounded-pill bg-danger">삭제</span>
                                        </a>
                                    </div>
                                    {#                                        {% endif %}#}
                                </div>
                            </div>
                            {#                            {% endfor %}#}
                        </div>
                        <div class="row">
                            {#                            {% for comment in comments %}#}
                            <div class="col-md-12 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">{{ comment.content }}</h5>
                                            </div>
                                            <div style="text-align: right">
                                                <span style="font-size: small">{{ comment.author.username }}-{{ comment.created_at|timesince }}전</span>
                                            </div>
                                        </div>
                                    </div>
                                    {#                                        {% if comment.author == user %}#}
                                    <div style="text-align: right">
                                        <a href="/comment/delete/{{ comment.id }}">
                                            <span class="badge rounded-pill bg-danger">삭제</span>
                                        </a>
                                    </div>
                                    {#                                        {% endif %}#}
                                </div>
                            </div>
                            {#                            {% endfor %}#}
                        </div>
                        <div class="row">
                            {#                            {% for comment in comments %}#}
                            <div class="col-md-12 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">{{ comment.content }}</h5>
                                            </div>
                                            <div style="text-align: right">
                                                <span style="font-size: small">{{ comment.author.username }}-{{ comment.created_at|timesince }}전</span>
                                            </div>
                                        </div>
                                    </div>
                                    {#                                        {% if comment.author == user %}#}
                                    <div style="text-align: right">
                                        <a href="/comment/delete/{{ comment.id }}">
                                            <span class="badge rounded-pill bg-danger">삭제</span>
                                        </a>
                                    </div>
                                    {#                                        {% endif %}#}
                                </div>
                            </div>
                            {#                            {% endfor %}#}
                        </div>
                        <div class="row">
                            {#                            {% for comment in comments %}#}
                            <div class="col-md-12 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">{{ comment.content }}</h5>
                                            </div>
                                            <div style="text-align: right">
                                                <span style="font-size: small">{{ comment.author.username }}-{{ comment.created_at|timesince }}전</span>
                                            </div>
                                        </div>
                                    </div>
                                    {#                                        {% if comment.author == user %}#}
                                    <div style="text-align: right">
                                        <a href="/comment/delete/{{ comment.id }}">
                                            <span class="badge rounded-pill bg-danger">삭제</span>
                                        </a>
                                    </div>
                                    {#                                        {% endif %}#}
                                </div>
                            </div>
                            {#                            {% endfor %}#}
                        </div>
                        <div class="row">
                            {#                            {% for comment in comments %}#}
                            <div class="col-md-12 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-body">
                                                <h5 class="mt-0">{{ comment.content }}</h5>
                                            </div>
                                            <div style="text-align: right">
                                                <span style="font-size: small">{{ comment.author.username }}-{{ comment.created_at|timesince }}전</span>
                                            </div>
                                        </div>
                                    </div>
                                    {#                                        {% if comment.author == user %}#}
                                    <div style="text-align: right">
                                        <a href="/comment/delete/{{ comment.id }}">
                                            <span class="badge rounded-pill bg-danger">삭제</span>
                                        </a>
                                    </div>
                                    {#                                        {% endif %}#}
                                </div>
                            </div>
                            {#                            {% endfor %}#}
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-light" data-dismiss="modal">닫기</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}